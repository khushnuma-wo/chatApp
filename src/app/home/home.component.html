<StackLayout horizontalAlignment="left" verticalAlignment="center" orientation="horizontal">
  <ActionBar title="Chat Application" class="action-bar">
    <ActionItem position="left">
      <GridLayout width="50">
        <Image width="30" height="30" android:marginBottom="3" src="~/images/power.png" (tap)="logout()"></Image>
      </GridLayout>
    </ActionItem>
    <ActionItem position="left">
      <FlexBoxLayout justifyContent="space-between">
        <AbsoluteLayout alignItems="center" marginRight="10">
          <Image width="30" height="30" android:marginBottom="3" src="~/images/chat.png" (tap)="chatList()"></Image>
          <Label fontWeight="700" class="chatLength" width="15" height="15" backgroundColor="red" borderRadius="10" [text]="userLength" textAlign="center"></Label>
        </AbsoluteLayout>
      </FlexBoxLayout>
    </ActionItem>
  </ActionBar>
</StackLayout>
<GridLayout class="grid">
  <GridLayout marginTop="5">
    <ListView [items]="allUsers" height="100%">
      <ng-template let-item="item">
        <GridLayout columns="auto, *" borderRadius="10" (tap)="onChat(item)">
          <StackLayout height="70">
            <Image [src]="item.profileImage" class="profile-img" stretch="aspectFill"></Image>
          </StackLayout>
          <StackLayout col="1" row="0">
            <GridLayout columns="auto" rows="auto">
              <Label col="1" margin="0 0" color="grey" fontSize="18" [text]="item.name"></Label>
            </GridLayout>
            <GridLayout columns="auto" rows="auto">
              <Label col="1" color="grey" fontSize="12" text="Hello, How are you?"></Label>
            </GridLayout>
          </StackLayout>
        </GridLayout>
      </ng-template>
    </ListView>
  </GridLayout>
  <FlexboxLayout *ngIf="isLoading" height="100%" justifyContent="center" alignItems="center" class="light-overlay">
    <ActivityIndicator [busy]="isLoading" color="blue" width="36" height="36" horizontalAlignment="center">
    </ActivityIndicator>
  </FlexboxLayout>
</GridLayout>